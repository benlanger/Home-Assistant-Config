[
  {
    "id": "933f5581a37dd52c",
    "type": "tab",
    "label": "Dimmer/Dial/Tap",
    "disabled": false,
    "info": ""
  },
  {
    "id": "7eda3eb589b2ea8e",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Delay",
    "pauseType": "delay",
    "timeout": "1",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 1270,
    "y": 600,
    "wires": [
      [
        "faf7be1af95146ae"
      ]
    ]
  },
  {
    "id": "faf7be1af95146ae",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Reset",
    "rules": [
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "foo",
        "tot": "str"
      },
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1450,
    "y": 600,
    "wires": [
      [
        "8a301cae264d3533"
      ]
    ]
  },
  {
    "id": "7ccd40e93a276211",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "b7",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 1,
    "halt_if": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "sensor.b7bracelet1",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "location",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "",
        "valueType": "triggerId"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 1030,
    "y": 540,
    "wires": [
      [
        "8a301cae264d3533",
        "401ca565b25fb13d"
      ]
    ]
  },
  {
    "id": "e251c8e0979fa2ac",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "count presses",
    "property": "count",
    "propertyType": "flow",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 5,
    "x": 1630,
    "y": 640,
    "wires": [
      [
        "a9dbc1eaf7a99840"
      ],
      [
        "4d3fcc087692f8f7"
      ],
      [
        "061eeb741dd75d76"
      ],
      [
        "28818cdcb9aea2a2"
      ],
      [
        "053cfa396de504ff"
      ]
    ],
    "info": "Just expand the flow.count to how ever many\npresses you want/need."
  },
  {
    "id": "8a301cae264d3533",
    "type": "counter",
    "z": "933f5581a37dd52c",
    "name": "",
    "init": "0",
    "step": "1",
    "lower": "",
    "upper": "",
    "mode": "increment",
    "outputs": "1",
    "x": 1450,
    "y": 540,
    "wires": [
      [
        "dab811d3aa55cbbb"
      ]
    ]
  },
  {
    "id": "f0093527c390e7d5",
    "type": "inject",
    "z": "933f5581a37dd52c",
    "name": "Reset",
    "repeat": "",
    "crontab": "",
    "once": true,
    "onceDelay": "0.5",
    "topic": "",
    "payload": "",
    "payloadType": "date",
    "x": 1270,
    "y": 560,
    "wires": [
      [
        "faf7be1af95146ae"
      ]
    ]
  },
  {
    "id": "d46e3e1f0c3f672b",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "up",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 890,
    "y": 460,
    "wires": [
      [
        "7ccd40e93a276211"
      ]
    ]
  },
  {
    "id": "5c6651bd9d231831",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "down",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 890,
    "y": 500,
    "wires": [
      [
        "7ccd40e93a276211"
      ]
    ]
  },
  {
    "id": "97a3057cac8a6407",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "off",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 790,
    "y": 540,
    "wires": [
      [
        "7ccd40e93a276211"
      ]
    ]
  },
  {
    "id": "df7bc71760bdb52a",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "on",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 790,
    "y": 580,
    "wires": [
      [
        "7ccd40e93a276211"
      ]
    ]
  },
  {
    "id": "a9dbc1eaf7a99840",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Single Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "1",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1840,
    "y": 580,
    "wires": [
      [
        "61324482911d6fe5"
      ]
    ]
  },
  {
    "id": "4d3fcc087692f8f7",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Double Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "2",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1850,
    "y": 620,
    "wires": [
      [
        "61324482911d6fe5"
      ]
    ]
  },
  {
    "id": "061eeb741dd75d76",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Triple Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "3",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1840,
    "y": 660,
    "wires": [
      [
        "61324482911d6fe5"
      ]
    ]
  },
  {
    "id": "28818cdcb9aea2a2",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Four Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "4",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1840,
    "y": 700,
    "wires": [
      [
        "61324482911d6fe5"
      ]
    ]
  },
  {
    "id": "dab811d3aa55cbbb",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Flow set",
    "rules": [
      {
        "t": "set",
        "p": "count",
        "pt": "flow",
        "to": "count",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1610,
    "y": 540,
    "wires": [
      [
        "951e41f7fe8a8d19"
      ]
    ]
  },
  {
    "id": "ca31fb2d54aeeabd",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Ste?",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "up",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "down",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 760,
    "y": 500,
    "wires": [
      [
        "d46e3e1f0c3f672b"
      ],
      [
        "5c6651bd9d231831"
      ]
    ]
  },
  {
    "id": "604c2e5b40e35943",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Command?",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "regex",
        "v": "(up_press$|down_press$)",
        "vt": "str",
        "case": true
      },
      {
        "t": "eq",
        "v": "off_press",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "on_press",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 3,
    "x": 610,
    "y": 520,
    "wires": [
      [
        "ca31fb2d54aeeabd"
      ],
      [
        "97a3057cac8a6407"
      ],
      [
        "df7bc71760bdb52a"
      ]
    ]
  },
  {
    "id": "61324482911d6fe5",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "",
    "pauseType": "delay",
    "timeout": "1",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 2020,
    "y": 660,
    "wires": [
      [
        "74dfe04a388c11fe",
        "b2e71a0dd8285867",
        "21d342f5e6f65e21"
      ]
    ]
  },
  {
    "id": "951e41f7fe8a8d19",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "count",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1840,
    "y": 540,
    "wires": []
  },
  {
    "id": "74dfe04a388c11fe",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Where?",
    "property": "location",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "bedroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "not_home",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "hotbox",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "livingroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "kitchen",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "patio",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "bathroom",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 7,
    "x": 2170,
    "y": 660,
    "wires": [
      [
        "b707b1f3fac181dd",
        "a2582ee0170c26ce"
      ],
      [
        "b707b1f3fac181dd",
        "a2582ee0170c26ce"
      ],
      [
        "1647a17ed447b30c"
      ],
      [
        "c2dba062682cb223",
        "e995b61ee5af4baa"
      ],
      [
        "e4404a46e419386e"
      ],
      [
        "4401ad2a0d09eb11"
      ],
      [
        "ad72f1db01fb1844"
      ]
    ]
  },
  {
    "id": "7af7d3b7a473b57a",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "first",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 610,
    "y": 400,
    "wires": []
  },
  {
    "id": "f2eeb853583688c7",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "MAxi speakers",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.group_maxi_speakers",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 1920,
    "y": 340,
    "wires": [
      [
        "1ff72288c10be7af"
      ],
      [
        "f5a4259b583436d3"
      ]
    ]
  },
  {
    "id": "b707b1f3fac181dd",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "off",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 2360,
    "y": 180,
    "wires": [
      [
        "73f8126b172d8d24"
      ],
      [
        "b96918d98aa8f0a6"
      ]
    ]
  },
  {
    "id": "5b84962a20066e47",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxStop",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2210,
    "y": 480,
    "wires": [
      [
        "d6f487fa60b6b303"
      ],
      [
        "b358f4d5d4f57d8d"
      ]
    ]
  },
  {
    "id": "8dedf648b9898060",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "LVSpeakerW",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.living_room_window_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2230,
    "y": 1040,
    "wires": [
      [
        "24a77a57aa08f003"
      ],
      [
        "4b0a76d25e54223a"
      ]
    ]
  },
  {
    "id": "e4404a46e419386e",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "KitchenSpeaker",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.kitchen_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2240,
    "y": 1140,
    "wires": [
      [
        "414d8b86396a73d2"
      ],
      [
        "7bfb04403e75cd9c"
      ]
    ]
  },
  {
    "id": "4401ad2a0d09eb11",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "ServerS",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.server_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2220,
    "y": 1240,
    "wires": [
      [
        "df7ff12e363fec3e"
      ],
      [
        "705c9de52ee23f35"
      ]
    ]
  },
  {
    "id": "ad72f1db01fb1844",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "BAthroomS",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.bathroom_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2210,
    "y": 1340,
    "wires": [
      [
        "1082ee557bc692f7"
      ],
      [
        "9faa0d691663ceed"
      ]
    ]
  },
  {
    "id": "1ff72288c10be7af",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "maxi speakers",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.group_maxi_speakers\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1920,
    "y": 300,
    "wires": [
      [
        "151f1963fecf0607"
      ]
    ]
  },
  {
    "id": "e16abcee378dd6d5",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Dungeo?",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.dungeon_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2240,
    "y": 340,
    "wires": [
      [
        "62c914e60d903899"
      ],
      [
        "adcfce4ade885675"
      ]
    ]
  },
  {
    "id": "73f8126b172d8d24",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 2500,
    "y": 160,
    "wires": [
      [
        "62e8476ce51168b9"
      ],
      [
        "a38b3a45d7a24b40"
      ]
    ]
  },
  {
    "id": "b96918d98aa8f0a6",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 2520,
    "y": 200,
    "wires": [
      [
        "a7769c85728b7eae"
      ],
      [
        "09917881fce29b61"
      ]
    ]
  },
  {
    "id": "d6f487fa60b6b303",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxSTop",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2210,
    "y": 440,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "b358f4d5d4f57d8d",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxSdown",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_down_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2380,
    "y": 480,
    "wires": [
      [
        "b315582540cef332"
      ],
      [
        "8bc0c8a92c54372e"
      ]
    ]
  },
  {
    "id": "24a77a57aa08f003",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.living_room_window_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2240,
    "y": 1000,
    "wires": [
      [
        "914fc6977ecda928"
      ]
    ]
  },
  {
    "id": "4b0a76d25e54223a",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "LVSpeakerTV",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.living_room_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2420,
    "y": 1040,
    "wires": [
      [
        "313761cbd8e8cc83"
      ],
      [
        "b683d3c5dc18c9e8"
      ]
    ]
  },
  {
    "id": "414d8b86396a73d2",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.kitchen_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2240,
    "y": 1100,
    "wires": [
      [
        "84e3d11a74d7b3f0"
      ]
    ]
  },
  {
    "id": "7bfb04403e75cd9c",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Lights",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3100,
    "y": 1140,
    "wires": [
      [
        "724ea66aa6af5a85"
      ]
    ]
  },
  {
    "id": "df7ff12e363fec3e",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.server_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2240,
    "y": 1200,
    "wires": [
      [
        "58596053ccf4745a"
      ]
    ]
  },
  {
    "id": "705c9de52ee23f35",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "PatioTV",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.patio_chromecast",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2400,
    "y": 1240,
    "wires": [
      [
        "28387c6a2f2b3d0a"
      ],
      [
        "20ed761cdc12302b"
      ]
    ]
  },
  {
    "id": "1082ee557bc692f7",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.bathroom_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2220,
    "y": 1300,
    "wires": [
      [
        "8b57db222e735ddc"
      ]
    ]
  },
  {
    "id": "9faa0d691663ceed",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Lights",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3090,
    "y": 1340,
    "wires": [
      [
        "724ea66aa6af5a85"
      ]
    ]
  },
  {
    "id": "151f1963fecf0607",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 2990,
    "y": 300,
    "wires": [
      [
        "df04f2923a255b17",
        "dccde5863cfee895"
      ]
    ]
  },
  {
    "id": "62c914e60d903899",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Dungeon",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.dungeon_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2240,
    "y": 300,
    "wires": [
      [
        "151f1963fecf0607"
      ]
    ]
  },
  {
    "id": "62e8476ce51168b9",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Blind up",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "cover",
    "service": "open_cover",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "cover.cover_bedroom_blinds"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2680,
    "y": 100,
    "wires": [
      []
    ]
  },
  {
    "id": "ac394a05ef3653b0",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "screens on",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "switch",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "switch.plug_bedroom_screens"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2970,
    "y": 120,
    "wires": [
      []
    ]
  },
  {
    "id": "a7769c85728b7eae",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Blind down",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "cover",
    "service": "close_cover",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "cover.cover_bedroom_blinds"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2690,
    "y": 180,
    "wires": [
      []
    ]
  },
  {
    "id": "60e8aefe4c72a2f8",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Screens off",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "switch",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "switch.plug_bedroom_screens"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2890,
    "y": 200,
    "wires": [
      []
    ]
  },
  {
    "id": "052b675a64ed69b9",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3010,
    "y": 440,
    "wires": [
      [
        "a1fe8fca019a4242"
      ]
    ]
  },
  {
    "id": "b315582540cef332",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxSDown",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_down_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2380,
    "y": 440,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "8bc0c8a92c54372e",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVT",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_top_chromecast",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2550,
    "y": 480,
    "wires": [
      [
        "85bfd74a4b4cd3fd"
      ],
      [
        "76bf04d0a1ad960a"
      ]
    ]
  },
  {
    "id": "914fc6977ecda928",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 2790,
    "y": 1000,
    "wires": [
      [
        "68bfea40cb637c9b"
      ]
    ]
  },
  {
    "id": "313761cbd8e8cc83",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.living_room_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2420,
    "y": 1000,
    "wires": [
      [
        "914fc6977ecda928"
      ]
    ]
  },
  {
    "id": "b683d3c5dc18c9e8",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "LVTV",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.livingroom_chromecast",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2630,
    "y": 1040,
    "wires": [
      [
        "bdc231c126a0de02"
      ],
      [
        "edd8b7f18891ec17"
      ]
    ]
  },
  {
    "id": "84e3d11a74d7b3f0",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 2790,
    "y": 1100,
    "wires": [
      [
        "21e7c649df1f7f5b"
      ]
    ]
  },
  {
    "id": "cdbd2791507b6364",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Where?",
    "property": "location",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "bedroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "not_home",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "hotbox",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "livingroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "kitchen",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "patio",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Bathroom",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 7,
    "x": 4080,
    "y": 200,
    "wires": [
      [
        "12238a713745a7d3"
      ],
      [
        "12238a713745a7d3"
      ],
      [
        "13f3f50c3d5ddd56"
      ],
      [
        "bbbcb77500e0c5cc"
      ],
      [
        "ad9dc8f13fc57340"
      ],
      [
        "d1dc4030bca8869d"
      ],
      []
    ]
  },
  {
    "id": "58596053ccf4745a",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 2790,
    "y": 1200,
    "wires": [
      [
        "e7fd9fbdfdbfe732"
      ]
    ]
  },
  {
    "id": "28387c6a2f2b3d0a",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.patio_chromecast\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2420,
    "y": 1200,
    "wires": [
      [
        "58596053ccf4745a"
      ]
    ]
  },
  {
    "id": "20ed761cdc12302b",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Lights",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3090,
    "y": 1240,
    "wires": [
      [
        "724ea66aa6af5a85"
      ]
    ]
  },
  {
    "id": "8b57db222e735ddc",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 2750,
    "y": 1300,
    "wires": [
      [
        "f4d96017c0b01350"
      ]
    ]
  },
  {
    "id": "9eefd3eaa566fef7",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "up",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "down",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "off",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 4,
    "x": 3720,
    "y": 340,
    "wires": [
      [
        "7fbbd5b4666692af"
      ],
      [
        "74fe08d15056f7f9"
      ],
      [
        "8b64f3e84f712078"
      ],
      [
        "83daf28d1c4ca1b1"
      ]
    ]
  },
  {
    "id": "83578c147b05105f",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Lights",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 3250,
    "y": 340,
    "wires": [
      [
        "724ea66aa6af5a85"
      ]
    ]
  },
  {
    "id": "85bfd74a4b4cd3fd",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVT",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_top_chromecast\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2550,
    "y": 440,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "8066eac7c4aa7d00",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVD",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_down_chromecast\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2730,
    "y": 440,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "76bf04d0a1ad960a",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVD",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_down_chromecast",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2710,
    "y": 480,
    "wires": [
      [
        "8066eac7c4aa7d00"
      ],
      [
        "781a8af1762ae28d"
      ]
    ]
  },
  {
    "id": "bdc231c126a0de02",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.livingroom_chromecast\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2640,
    "y": 1000,
    "wires": [
      [
        "914fc6977ecda928"
      ]
    ]
  },
  {
    "id": "edd8b7f18891ec17",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Lights",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3100,
    "y": 1040,
    "wires": [
      [
        "724ea66aa6af5a85"
      ]
    ]
  },
  {
    "id": "30bcd364e3198e99",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Lights",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3270,
    "y": 480,
    "wires": [
      [
        "724ea66aa6af5a85"
      ]
    ]
  },
  {
    "id": "12238a713745a7d3",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Bedroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.bedroom_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 40,
    "wires": [
      [
        "be1a1db6c15f316b"
      ]
    ]
  },
  {
    "id": "13f3f50c3d5ddd56",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.hotbox_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 80,
    "wires": [
      [
        "be1a1db6c15f316b",
        "10e097f0fcce8cf3"
      ]
    ]
  },
  {
    "id": "bbbcb77500e0c5cc",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "LivingRo",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.group_livingroom_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 120,
    "wires": [
      [
        "be1a1db6c15f316b"
      ]
    ]
  },
  {
    "id": "ad9dc8f13fc57340",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Kitchen",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.group_kitchen_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4260,
    "y": 160,
    "wires": [
      [
        "be1a1db6c15f316b"
      ]
    ]
  },
  {
    "id": "d1dc4030bca8869d",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Patio",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.patio_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4250,
    "y": 200,
    "wires": [
      [
        "be1a1db6c15f316b"
      ]
    ]
  },
  {
    "id": "7fbbd5b4666692af",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 3860,
    "y": 200,
    "wires": [
      [
        "f12a1e726663a65e"
      ],
      [
        "cdbd2791507b6364"
      ]
    ]
  },
  {
    "id": "74fe08d15056f7f9",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 3,
    "x": 3880,
    "y": 320,
    "wires": [
      [
        "b03644fb7ed5a0a7"
      ],
      [
        "cdbd2791507b6364"
      ],
      [
        "25a1023d6f9bbbb5"
      ]
    ]
  },
  {
    "id": "8b64f3e84f712078",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 3,
    "x": 3880,
    "y": 380,
    "wires": [
      [
        "d5a19c27e1b9b0ac",
        "16f62f47e8cdb911"
      ],
      [
        "cdbd2791507b6364"
      ],
      [
        "c0edfd57e02ce14a"
      ]
    ]
  },
  {
    "id": "83daf28d1c4ca1b1",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 3,
    "x": 3880,
    "y": 440,
    "wires": [
      [
        "f6253b46f0db9687"
      ],
      [
        "cdbd2791507b6364"
      ],
      [
        "f76e0cc8cd2d017d"
      ]
    ]
  },
  {
    "id": "be1a1db6c15f316b",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "up",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "down",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "off",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 4,
    "x": 4470,
    "y": 100,
    "wires": [
      [
        "6450468126476966"
      ],
      [
        "d2471aaf5e8e7bcf"
      ],
      [
        "39c38bee6add2d84"
      ],
      [
        "ffde540b34cb55f0"
      ]
    ]
  },
  {
    "id": "10e097f0fcce8cf3",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 4450,
    "y": 180,
    "wires": []
  },
  {
    "id": "f12a1e726663a65e",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Play",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "media_play",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 3890,
    "y": 100,
    "wires": [
      []
    ]
  },
  {
    "id": "4a87be609378f3f5",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "V. Up S",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "volume_up",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 4540,
    "y": 300,
    "wires": [
      []
    ]
  },
  {
    "id": "25a1023d6f9bbbb5",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Skip",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "media_seek",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"seek_position\": \"100000\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 4080,
    "y": 340,
    "wires": [
      []
    ]
  },
  {
    "id": "c0edfd57e02ce14a",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Return Start",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "media_seek",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"seek_position\": \"0\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 4080,
    "y": 420,
    "wires": [
      []
    ]
  },
  {
    "id": "f6253b46f0db9687",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Pause",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "media_pause",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 4060,
    "y": 460,
    "wires": [
      []
    ]
  },
  {
    "id": "6450468126476966",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Lights on",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4660,
    "y": 60,
    "wires": [
      []
    ]
  },
  {
    "id": "d2471aaf5e8e7bcf",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Brigthen lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"brightness_step\":25}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4680,
    "y": 100,
    "wires": [
      []
    ]
  },
  {
    "id": "39c38bee6add2d84",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Dim lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"brightness_step\":-35}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4660,
    "y": 140,
    "wires": [
      []
    ]
  },
  {
    "id": "ffde540b34cb55f0",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Lights off",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4660,
    "y": 180,
    "wires": [
      []
    ]
  },
  {
    "id": "d4288f4d376996e0",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "zero",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 390,
    "y": 340,
    "wires": []
  },
  {
    "id": "79b43bcb79bd80b6",
    "type": "server-events",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 2,
    "eventType": "zha_event",
    "exposeToHomeAssistant": false,
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "waitForRunning": true,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "$outputData(\"eventData\").event_type",
        "valueType": "jsonata"
      },
      {
        "property": "event_type",
        "propertyType": "msg",
        "value": "$outputData(\"eventData\").event_type",
        "valueType": "jsonata"
      }
    ],
    "x": 170,
    "y": 500,
    "wires": [
      [
        "d4288f4d376996e0",
        "df2e609cac6f2bc9"
      ]
    ]
  },
  {
    "id": "863b256ec1a3f635",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.event.device_ieee",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "00:17:88:01:08:0b:50:a4",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 1,
    "x": 400,
    "y": 480,
    "wires": [
      [
        "604c2e5b40e35943",
        "7af7d3b7a473b57a"
      ]
    ]
  },
  {
    "id": "724ea66aa6af5a85",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "nothing playing",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3400,
    "y": 1100,
    "wires": [
      [
        "402193bafafa31fa"
      ]
    ]
  },
  {
    "id": "1d56e1f478c25091",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "up",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "down",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "off",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 4,
    "x": 4490,
    "y": 740,
    "wires": [
      [
        "415b586c0a11b3c1"
      ],
      [
        "683de9d925eaa22c"
      ],
      [
        "5a870105b0009857"
      ],
      [
        "30cad5816ffb7638"
      ]
    ]
  },
  {
    "id": "402193bafafa31fa",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 3,
    "x": 3580,
    "y": 1100,
    "wires": [
      [
        "fc31706c9e3efd4c"
      ],
      [
        "9f531ac1a1ac0866"
      ],
      [
        "e1bf20ae3d6a0604"
      ]
    ]
  },
  {
    "id": "415b586c0a11b3c1",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Lights on",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4700,
    "y": 700,
    "wires": [
      []
    ]
  },
  {
    "id": "683de9d925eaa22c",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Brigthen lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"brightness_step\":25}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4740,
    "y": 740,
    "wires": [
      []
    ]
  },
  {
    "id": "5a870105b0009857",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Dim lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"brightness_step\":-35}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4720,
    "y": 780,
    "wires": [
      []
    ]
  },
  {
    "id": "30cad5816ffb7638",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Lights off",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4720,
    "y": 820,
    "wires": [
      []
    ]
  },
  {
    "id": "fc31706c9e3efd4c",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Where?",
    "property": "location",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "bedroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "not_home",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "hotbox",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "livingroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "kitchen",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "patio",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Bathroom",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 7,
    "x": 3680,
    "y": 800,
    "wires": [
      [
        "82dd3a5580b0d082"
      ],
      [
        "82dd3a5580b0d082"
      ],
      [
        "a5b6699bfe0f922d"
      ],
      [
        "df3b0055085e994b"
      ],
      [
        "5c976a10d19c074b"
      ],
      [
        "93cc876515c41852"
      ],
      []
    ]
  },
  {
    "id": "82dd3a5580b0d082",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Bedroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.bedroom_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4160,
    "y": 680,
    "wires": [
      [
        "1d56e1f478c25091"
      ]
    ]
  },
  {
    "id": "73e6cc8e0ab5755e",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.hotbox_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4160,
    "y": 720,
    "wires": [
      [
        "1d56e1f478c25091"
      ]
    ]
  },
  {
    "id": "df3b0055085e994b",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "LivingRo",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.group_livingroom_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4160,
    "y": 840,
    "wires": [
      [
        "1d56e1f478c25091"
      ]
    ]
  },
  {
    "id": "5c976a10d19c074b",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Kitchen",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.group_kitchen_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4160,
    "y": 880,
    "wires": [
      [
        "1d56e1f478c25091"
      ]
    ]
  },
  {
    "id": "129d0e159fd5f13d",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "up",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "down",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "off",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 4,
    "x": 3940,
    "y": 1400,
    "wires": [
      [
        "fd98a3ac705891b0"
      ],
      [
        "b6dfe6d848d06f88"
      ],
      [
        "42e075e61f0fb471"
      ],
      [
        "7f41aa7dbb329c58"
      ]
    ]
  },
  {
    "id": "e22054d6381f3c14",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "White llights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"rgb_color\":[255,255,254]}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4870,
    "y": 1300,
    "wires": [
      []
    ]
  },
  {
    "id": "9f531ac1a1ac0866",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Where?",
    "property": "location",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "bedroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "not_home",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "hotbox",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "livingroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "kitchen",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "patio",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Bathroom",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 7,
    "x": 3280,
    "y": 1400,
    "wires": [
      [
        "c35016dd0311dc27"
      ],
      [
        "c35016dd0311dc27"
      ],
      [
        "ec6d0bf5830c893d"
      ],
      [
        "6bfde0472099a9a5"
      ],
      [
        "546f54ecbb7541b9"
      ],
      [
        "19c1b2c9a8cea9a6"
      ],
      []
    ]
  },
  {
    "id": "c35016dd0311dc27",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Bedroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.bedroom_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3660,
    "y": 1200,
    "wires": [
      [
        "129d0e159fd5f13d"
      ]
    ]
  },
  {
    "id": "6bfde0472099a9a5",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "LivingRo",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.group_livingroom_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3720,
    "y": 1620,
    "wires": [
      [
        "129d0e159fd5f13d"
      ]
    ]
  },
  {
    "id": "546f54ecbb7541b9",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Kitchen",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.group_kitchen_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3720,
    "y": 1660,
    "wires": [
      [
        "129d0e159fd5f13d"
      ]
    ]
  },
  {
    "id": "19c1b2c9a8cea9a6",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Patio",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.patio_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3710,
    "y": 1740,
    "wires": [
      [
        "129d0e159fd5f13d"
      ]
    ]
  },
  {
    "id": "e0572274be13a226",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Blue Lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"color_name\":\"blue\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4880,
    "y": 1380,
    "wires": [
      []
    ]
  },
  {
    "id": "e92151f1639963d9",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Red lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"color_name\":\"red\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4890,
    "y": 1420,
    "wires": [
      []
    ]
  },
  {
    "id": "3e7e886b757c00c5",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "command",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "up",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "down",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 4320,
    "y": 1020,
    "wires": [
      [
        "95e9b76895eb3bd0"
      ],
      [
        "073222aa71e6b594"
      ]
    ]
  },
  {
    "id": "95e9b76895eb3bd0",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "max brightness",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"brightness_pct\":100}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4520,
    "y": 980,
    "wires": [
      []
    ]
  },
  {
    "id": "073222aa71e6b594",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "min brightness",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"brightness_pct\":15}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4520,
    "y": 1020,
    "wires": [
      []
    ]
  },
  {
    "id": "1db201ee47af75e9",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 4330,
    "y": 1280,
    "wires": []
  },
  {
    "id": "218d310468233972",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 2670,
    "y": 60,
    "wires": []
  },
  {
    "id": "e1bf20ae3d6a0604",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Where?",
    "property": "location",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "bedroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "not_home",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "hotbox",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "livingroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "kitchen",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "patio",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Bathroom",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 7,
    "x": 3740,
    "y": 1100,
    "wires": [
      [
        "d9d68a6d04a397b5"
      ],
      [
        "d9d68a6d04a397b5"
      ],
      [
        "10717e5f8acdf484"
      ],
      [
        "11b4afcad2643e2e"
      ],
      [
        "1482fb6bd7ca4dd1"
      ],
      [
        "d1ce8de1add5048b"
      ],
      []
    ]
  },
  {
    "id": "d9d68a6d04a397b5",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Bedroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.bedroom_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3960,
    "y": 940,
    "wires": [
      [
        "3e7e886b757c00c5"
      ]
    ]
  },
  {
    "id": "9387ad217245a486",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 4470,
    "y": 1180,
    "wires": []
  },
  {
    "id": "5fa1a67bc9eb83bc",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 1,
    "halt_if": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "color",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 4310,
    "y": 1340,
    "wires": [
      [
        "27cf8b28a2d8f366",
        "9387ad217245a486"
      ]
    ]
  },
  {
    "id": "fd98a3ac705891b0",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set id to curent state",
    "rules": [
      {
        "t": "set",
        "p": "payload.entity_id",
        "pt": "msg",
        "to": "payload.data.entity_id",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4110,
    "y": 1340,
    "wires": [
      [
        "5fa1a67bc9eb83bc",
        "1db201ee47af75e9"
      ]
    ]
  },
  {
    "id": "5b1f1212c8df2317",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "color",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "white",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "white",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 4680,
    "y": 1340,
    "wires": [
      [
        "e22054d6381f3c14"
      ],
      [
        "9557fc2fce9cd7c9"
      ]
    ]
  },
  {
    "id": "27cf8b28a2d8f366",
    "type": "function",
    "z": "933f5581a37dd52c",
    "name": "color",
    "func": "var color1 = msg.color.attributes.rgb_color[0];\nvar color2 = msg.color.attributes.rgb_color[1];\nvar color3 = msg.color.attributes.rgb_color[2];\n\nif (color1 == 255 && color2 > 253 && color3 > 253){\n    var newColor = \"white\";\n} else {\n    var newColor = \"other\";\n}\n\nvar newMsg = {\n    \"color\": newColor,\n    \"payload\": {\n        \"data\": {\n            \"entity_id\": msg.payload.entity_id\n        }\n    }\n};\nreturn newMsg;",
    "outputs": 1,
    "noerr": 0,
    "x": 4460,
    "y": 1340,
    "wires": [
      [
        "5b1f1212c8df2317"
      ]
    ]
  },
  {
    "id": "9557fc2fce9cd7c9",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Purple lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"color_name\":\"purple\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4880,
    "y": 1340,
    "wires": [
      []
    ]
  },
  {
    "id": "5e8f30045c48db75",
    "type": "function",
    "z": "933f5581a37dd52c",
    "name": "color",
    "func": "var color1 = msg.color.attributes.rgb_color[0];\nvar color2 = msg.color.attributes.rgb_color[1];\nvar color3 = msg.color.attributes.rgb_color[2];\n\nif (color1 == 0 && color2 == 0 && color3 == 255){\n    var newColor = \"blue\";\n} else {\n    var newColor = \"other\";\n}\n\nvar newMsg = {\n    \"color\": newColor,\n    \"payload\": {\n        \"data\": {\n            \"entity_id\": msg.payload.entity_id\n        }\n    }\n};\nreturn newMsg;",
    "outputs": 1,
    "noerr": 0,
    "x": 4480,
    "y": 1380,
    "wires": [
      [
        "202884616f111b24"
      ]
    ]
  },
  {
    "id": "2c2abdddfbc0711a",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 1,
    "halt_if": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "color",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 4330,
    "y": 1380,
    "wires": [
      [
        "5e8f30045c48db75"
      ]
    ]
  },
  {
    "id": "b6dfe6d848d06f88",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set id to curent state",
    "rules": [
      {
        "t": "set",
        "p": "payload.entity_id",
        "pt": "msg",
        "to": "payload.data.entity_id",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4130,
    "y": 1380,
    "wires": [
      [
        "2c2abdddfbc0711a"
      ]
    ]
  },
  {
    "id": "202884616f111b24",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "color",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "blue",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "blue",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 4680,
    "y": 1380,
    "wires": [
      [
        "e0572274be13a226"
      ],
      [
        "e92151f1639963d9"
      ]
    ]
  },
  {
    "id": "292d7f6f3caa6434",
    "type": "function",
    "z": "933f5581a37dd52c",
    "name": "color",
    "func": "var color1 = msg.color.attributes.rgb_color[0];\nvar color2 = msg.color.attributes.rgb_color[1];\nvar color3 = msg.color.attributes.rgb_color[2];\n\nif (color1 == 0 && color2 == 255 && color3 == 0){\n    var newColor = \"green\";\n} else {\n    var newColor = \"other\";\n}\n\nvar newMsg = {\n    \"color\": newColor,\n    \"payload\": {\n        \"data\": {\n            \"entity_id\": msg.payload.entity_id\n        }\n    }\n};\nreturn newMsg;",
    "outputs": 1,
    "noerr": 0,
    "x": 4480,
    "y": 1420,
    "wires": [
      [
        "f8a10790959005a7"
      ]
    ]
  },
  {
    "id": "9c5d35dc9afb6e05",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 1,
    "halt_if": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "color",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 4330,
    "y": 1420,
    "wires": [
      [
        "292d7f6f3caa6434"
      ]
    ]
  },
  {
    "id": "42e075e61f0fb471",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set id to curent state",
    "rules": [
      {
        "t": "set",
        "p": "payload.entity_id",
        "pt": "msg",
        "to": "payload.data.entity_id",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4130,
    "y": 1420,
    "wires": [
      [
        "9c5d35dc9afb6e05"
      ]
    ]
  },
  {
    "id": "f8a10790959005a7",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "color",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "green",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "green",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 4680,
    "y": 1420,
    "wires": [
      [
        "ec3c972c6d927aac"
      ],
      [
        "e2848bde55d1f9f1"
      ]
    ]
  },
  {
    "id": "ec3c972c6d927aac",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "GReen Lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"color_name\":\"green\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4890,
    "y": 1460,
    "wires": [
      []
    ]
  },
  {
    "id": "e2848bde55d1f9f1",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Orange Lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"color_name\":\"orange\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4890,
    "y": 1500,
    "wires": [
      []
    ]
  },
  {
    "id": "e8e46105b41b3a9a",
    "type": "function",
    "z": "933f5581a37dd52c",
    "name": "color",
    "func": "var color1 = msg.color.attributes.rgb_color[0];\nvar color2 = msg.color.attributes.rgb_color[1];\nvar color3 = msg.color.attributes.rgb_color[2];\n\nif (color1 == 255 && color2 == 254 && color3 == 0){\n    var newColor = \"yellow\";\n} else {\n    var newColor = \"other\";\n}\n\nvar newMsg = {\n    \"color\": newColor,\n    \"payload\": {\n        \"data\": {\n            \"entity_id\": msg.payload.entity_id\n        }\n    }\n};\nreturn newMsg;",
    "outputs": 1,
    "noerr": 0,
    "x": 4460,
    "y": 1460,
    "wires": [
      [
        "e02feedc6dd55006"
      ]
    ]
  },
  {
    "id": "7d58407886870164",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 1,
    "halt_if": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "color",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 4310,
    "y": 1460,
    "wires": [
      [
        "e8e46105b41b3a9a"
      ]
    ]
  },
  {
    "id": "7f41aa7dbb329c58",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set id to curent state",
    "rules": [
      {
        "t": "set",
        "p": "payload.entity_id",
        "pt": "msg",
        "to": "payload.data.entity_id",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4110,
    "y": 1460,
    "wires": [
      [
        "7d58407886870164"
      ]
    ]
  },
  {
    "id": "e02feedc6dd55006",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "color",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "yellow",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "yellow",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 4660,
    "y": 1460,
    "wires": [
      [
        "1a60ab6e73ef32be"
      ],
      [
        "1a27ecc6dd71e9dc"
      ]
    ]
  },
  {
    "id": "1a60ab6e73ef32be",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Yellow Lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"color_name\":\"yellow\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4880,
    "y": 1540,
    "wires": [
      []
    ]
  },
  {
    "id": "1a27ecc6dd71e9dc",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Cyan Lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{\"color_name\":\"cyan\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 4880,
    "y": 1580,
    "wires": [
      []
    ]
  },
  {
    "id": "c2dba062682cb223",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "off",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 2140,
    "y": 1480,
    "wires": [
      [
        "ffd0725108893f9d"
      ],
      [
        "617c026b75c3778f"
      ]
    ]
  },
  {
    "id": "ffd0725108893f9d",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 1,
    "x": 2290,
    "y": 1460,
    "wires": [
      [
        "0398039eb15e1c07"
      ]
    ]
  },
  {
    "id": "617c026b75c3778f",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 1,
    "x": 2290,
    "y": 1500,
    "wires": [
      [
        "087bf42020cb8863"
      ]
    ]
  },
  {
    "id": "0398039eb15e1c07",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Blind up",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "cover",
    "service": "open_cover",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "cover.cover_livingroom_blinds"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2440,
    "y": 1420,
    "wires": [
      []
    ]
  },
  {
    "id": "087bf42020cb8863",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Blind down",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "cover",
    "service": "close_cover",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "cover.cover_livingroom_blinds"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2450,
    "y": 1520,
    "wires": [
      []
    ]
  },
  {
    "id": "1647a17ed447b30c",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2200,
    "y": 560,
    "wires": [
      [
        "5b84962a20066e47"
      ],
      [
        "51a76b6602405a82",
        "ffb68f3707abf0e3",
        "581ebb5cf099c918"
      ]
    ]
  },
  {
    "id": "51a76b6602405a82",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox down",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_down_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2370,
    "y": 560,
    "wires": [
      [
        "b0b9d04943f68623"
      ],
      []
    ]
  },
  {
    "id": "ffb68f3707abf0e3",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox top",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_top_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2370,
    "y": 640,
    "wires": [
      [
        "b7903b29297cb7c3"
      ],
      []
    ]
  },
  {
    "id": "b7903b29297cb7c3",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxSTop",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_top_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2650,
    "y": 640,
    "wires": [
      [
        "5506f7a94bc38fbd"
      ],
      [
        "423a3a80c7d51c6a"
      ]
    ]
  },
  {
    "id": "5506f7a94bc38fbd",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxSTop",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_top_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2670,
    "y": 600,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "423a3a80c7d51c6a",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVT",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_top_chromecast",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2850,
    "y": 640,
    "wires": [
      [
        "78103ca545a622d3"
      ],
      [
        "cdb28576d5def68c"
      ]
    ]
  },
  {
    "id": "78103ca545a622d3",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVT",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_top_chromecast\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2850,
    "y": 600,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "b0b9d04943f68623",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxSdown",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_down_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2660,
    "y": 560,
    "wires": [
      [
        "dc4299a23c2a4e46"
      ],
      [
        "f36672bd390783a9"
      ]
    ]
  },
  {
    "id": "dc4299a23c2a4e46",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxSDown",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_down_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2680,
    "y": 520,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "a25bffbc4855260a",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVD",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_tv_down\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2890,
    "y": 520,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "f36672bd390783a9",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "HotboxTVD",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_tv_down",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2890,
    "y": 560,
    "wires": [
      [
        "a25bffbc4855260a"
      ],
      [
        "30bcd364e3198e99"
      ]
    ]
  },
  {
    "id": "a5b6699bfe0f922d",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3950,
    "y": 680,
    "wires": [
      [
        "73e6cc8e0ab5755e"
      ],
      [
        "c0c772c74f2b852d",
        "34d136b561342338",
        "7fb674527598e2a0"
      ]
    ]
  },
  {
    "id": "c0c772c74f2b852d",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox down",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_down_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3950,
    "y": 720,
    "wires": [
      [
        "e488e7ddc9e91922"
      ],
      []
    ]
  },
  {
    "id": "34d136b561342338",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox top",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_top_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3950,
    "y": 760,
    "wires": [
      [
        "d794132106f5c5bd"
      ],
      []
    ]
  },
  {
    "id": "e488e7ddc9e91922",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox Down",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.hotbox_bottom\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4160,
    "y": 760,
    "wires": [
      [
        "1d56e1f478c25091"
      ]
    ]
  },
  {
    "id": "d794132106f5c5bd",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox Wall",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.hotbox_wall\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4150,
    "y": 800,
    "wires": [
      [
        "1d56e1f478c25091"
      ]
    ]
  },
  {
    "id": "8551d9f779976121",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.hotbox_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4120,
    "y": 980,
    "wires": [
      [
        "3e7e886b757c00c5"
      ]
    ]
  },
  {
    "id": "10717e5f8acdf484",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3970,
    "y": 980,
    "wires": [
      [
        "8551d9f779976121"
      ],
      [
        "cd1f42701c73dde3",
        "ef6262914d8cee8c",
        "5ed346859afeb599"
      ]
    ]
  },
  {
    "id": "cd1f42701c73dde3",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox down",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_down_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3970,
    "y": 1020,
    "wires": [
      [
        "d299b602948e71f1"
      ],
      []
    ]
  },
  {
    "id": "ef6262914d8cee8c",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox top",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_top_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3970,
    "y": 1060,
    "wires": [
      [
        "aed37ccc5c27d0b7"
      ],
      []
    ]
  },
  {
    "id": "d299b602948e71f1",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox bottom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.hotbox_bottom\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4140,
    "y": 1020,
    "wires": [
      [
        "3e7e886b757c00c5"
      ]
    ]
  },
  {
    "id": "aed37ccc5c27d0b7",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox Wall",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.hotbox_wall\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4130,
    "y": 1060,
    "wires": [
      [
        "3e7e886b757c00c5"
      ]
    ]
  },
  {
    "id": "6598aad34bf0df46",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.hotbox_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3740,
    "y": 1360,
    "wires": [
      [
        "129d0e159fd5f13d"
      ]
    ]
  },
  {
    "id": "ec6d0bf5830c893d",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3550,
    "y": 1300,
    "wires": [
      [
        "6598aad34bf0df46"
      ],
      [
        "68663f890f19c125",
        "058be30ba6012a36",
        "eecb21cc68d3ae23"
      ]
    ]
  },
  {
    "id": "68663f890f19c125",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox down",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_down_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3540,
    "y": 1360,
    "wires": [
      [
        "466f36fddb898c5e"
      ],
      []
    ]
  },
  {
    "id": "058be30ba6012a36",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox top",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.sensor_hotbox_top_motion_occupancy",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3550,
    "y": 1420,
    "wires": [
      [
        "40226fc4fbaf4bd0"
      ],
      []
    ]
  },
  {
    "id": "466f36fddb898c5e",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox Down",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.hotbox_bottom\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3760,
    "y": 1400,
    "wires": [
      [
        "129d0e159fd5f13d"
      ]
    ]
  },
  {
    "id": "40226fc4fbaf4bd0",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox Wall",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.hotbox_top\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3750,
    "y": 1440,
    "wires": [
      [
        "129d0e159fd5f13d"
      ]
    ]
  },
  {
    "id": "7fb674527598e2a0",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion_off",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3920,
    "y": 800,
    "wires": [
      [
        "73e6cc8e0ab5755e"
      ],
      []
    ]
  },
  {
    "id": "eecb21cc68d3ae23",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion_off",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3550,
    "y": 1480,
    "wires": [
      [
        "6598aad34bf0df46"
      ],
      []
    ]
  },
  {
    "id": "5ed346859afeb599",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion_off",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3960,
    "y": 1100,
    "wires": [
      [
        "8551d9f779976121"
      ],
      []
    ]
  },
  {
    "id": "581ebb5cf099c918",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Hotbox All off",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "binary_sensor.hotbox_all_motion_off",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2370,
    "y": 520,
    "wires": [
      [
        "5b84962a20066e47"
      ],
      []
    ]
  },
  {
    "id": "cd3cd4babc86066d",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_top_roku\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2890,
    "y": 440,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "781a8af1762ae28d",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_top_roku",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2890,
    "y": 480,
    "wires": [
      [
        "cd3cd4babc86066d"
      ],
      [
        "30bcd364e3198e99"
      ]
    ]
  },
  {
    "id": "39bdfcf9df08f913",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.hotbox_top_roku\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3030,
    "y": 600,
    "wires": [
      [
        "052b675a64ed69b9"
      ]
    ]
  },
  {
    "id": "cdb28576d5def68c",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.hotbox_top_roku",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3030,
    "y": 640,
    "wires": [
      [
        "39bdfcf9df08f913"
      ],
      [
        "30bcd364e3198e99"
      ]
    ]
  },
  {
    "id": "4b04cb83c1b6a69a",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "off",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 2440,
    "y": 760,
    "wires": [
      [
        "e872af90a11a4737"
      ],
      [
        "8313de7ac69b1eba"
      ]
    ]
  },
  {
    "id": "e872af90a11a4737",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 1,
    "x": 2480,
    "y": 880,
    "wires": [
      [
        "624d74888ce1ee60"
      ]
    ]
  },
  {
    "id": "8313de7ac69b1eba",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 1,
    "x": 2480,
    "y": 920,
    "wires": [
      [
        "0cedc729528b0cef"
      ]
    ]
  },
  {
    "id": "624d74888ce1ee60",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Blind up",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "cover",
    "service": "open_cover",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "cover.cover_bedroom_blinds"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2660,
    "y": 820,
    "wires": [
      []
    ]
  },
  {
    "id": "0cedc729528b0cef",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Blind down",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "cover",
    "service": "close_cover",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "cover.cover_bedroom_blinds"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2670,
    "y": 900,
    "wires": [
      []
    ]
  },
  {
    "id": "053cfa396de504ff",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Five Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "5",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1850,
    "y": 740,
    "wires": [
      [
        "61324482911d6fe5"
      ]
    ]
  },
  {
    "id": "f5a4259b583436d3",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Bedroom",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.bedroom_speaker",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2100,
    "y": 340,
    "wires": [
      [
        "81a9490e44a9bfac"
      ],
      [
        "e16abcee378dd6d5"
      ]
    ]
  },
  {
    "id": "81a9490e44a9bfac",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Bedroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.bedroom_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2100,
    "y": 300,
    "wires": [
      [
        "52b3fb4303059f0b",
        "151f1963fecf0607"
      ]
    ]
  },
  {
    "id": "f76e0cc8cd2d017d",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Stop all",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 4080,
    "y": 500,
    "wires": [
      []
    ]
  },
  {
    "id": "1133dc8664a47a46",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "LivingRo",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.livingroom_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2300,
    "y": 4840,
    "wires": [
      [
        "4fc88edc54a36fc8"
      ]
    ]
  },
  {
    "id": "72c1bb665309b3cb",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "HotBox",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.hotbox_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2300,
    "y": 4800,
    "wires": [
      [
        "4fc88edc54a36fc8"
      ]
    ]
  },
  {
    "id": "ee9de7d8bd5208fa",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Kitchen",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.kitchen_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2300,
    "y": 4880,
    "wires": [
      [
        "4fc88edc54a36fc8"
      ]
    ]
  },
  {
    "id": "8fd7b3db2f45b8ea",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "closet",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.closet_speaker\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2290,
    "y": 4920,
    "wires": [
      [
        "4fc88edc54a36fc8"
      ]
    ]
  },
  {
    "id": "96ca10b1ca3f29e6",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Bathroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.bathroom2\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2300,
    "y": 4960,
    "wires": [
      [
        "4fc88edc54a36fc8"
      ]
    ]
  },
  {
    "id": "69684ef70a7f7a9f",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Fitbit",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 1,
    "halt_if": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "sensor.galaxywatch",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "data",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "",
        "valueType": "triggerId"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 1870,
    "y": 4760,
    "wires": [
      []
    ]
  },
  {
    "id": "77eae8e725382dc6",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Where?",
    "property": "data.state",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "Bedroom",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Thierry",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "not_home",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Hotbox",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Chilling",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Kitchen",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Closet",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "Bathroom",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": false,
    "outputs": 8,
    "x": 2120,
    "y": 4760,
    "wires": [
      [
        "eb29b1e737676b49"
      ],
      [
        "eb29b1e737676b49"
      ],
      [
        "eb29b1e737676b49"
      ],
      [
        "72c1bb665309b3cb"
      ],
      [
        "1133dc8664a47a46"
      ],
      [
        "ee9de7d8bd5208fa"
      ],
      [
        "8fd7b3db2f45b8ea"
      ],
      [
        "96ca10b1ca3f29e6"
      ]
    ]
  },
  {
    "id": "4fc88edc54a36fc8",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "FAce",
    "property": "face",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "1",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "2",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "3",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "4",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "5",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "6",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 6,
    "x": 2590,
    "y": 4740,
    "wires": [
      [
        "1169b420975f1408"
      ],
      [
        "39b5b39fa69d3276"
      ],
      [
        "2f14b2fa8554a2b4"
      ],
      [
        "5ddf0121ccf8212d"
      ],
      [
        "ea63eadbe0be3af7"
      ],
      [
        "91b5510d79b97997"
      ]
    ]
  },
  {
    "id": "1169b420975f1408",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{ \"color_name\": \"white\" }",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2970,
    "y": 4720,
    "wires": [
      []
    ]
  },
  {
    "id": "39b5b39fa69d3276",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{ \"color_name\": \"green\" }",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2970,
    "y": 4760,
    "wires": [
      []
    ]
  },
  {
    "id": "2f14b2fa8554a2b4",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{ \"color_name\": \"blue\" }",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2970,
    "y": 4800,
    "wires": [
      []
    ]
  },
  {
    "id": "5ddf0121ccf8212d",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{ \"color_name\": \"purple\" }",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2970,
    "y": 4840,
    "wires": [
      []
    ]
  },
  {
    "id": "ea63eadbe0be3af7",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{ \"color_name\": \"orange\" }",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2970,
    "y": 4880,
    "wires": [
      []
    ]
  },
  {
    "id": "91b5510d79b97997",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "{ \"color_name\": \"red\" }",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2970,
    "y": 4920,
    "wires": [
      []
    ]
  },
  {
    "id": "d4a03aecb1ab34ab",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Face",
    "rules": [
      {
        "t": "move",
        "p": "payload.event.args.activated_face",
        "pt": "msg",
        "to": "face",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1730,
    "y": 4760,
    "wires": [
      [
        "69684ef70a7f7a9f"
      ]
    ]
  },
  {
    "id": "1a9ca0c6f0997847",
    "type": "server-events",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 2,
    "eventType": "zha_event",
    "exposeToHomeAssistant": false,
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "waitForRunning": true,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "$outputData(\"eventData\").event_type",
        "valueType": "jsonata"
      },
      {
        "property": "event_type",
        "propertyType": "msg",
        "value": "$outputData(\"eventData\").event_type",
        "valueType": "jsonata"
      }
    ],
    "x": 1290,
    "y": 4760,
    "wires": [
      [
        "312c4df4513b4415"
      ]
    ]
  },
  {
    "id": "b8f4ecdac48219a7",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "",
    "property": "action",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "knock",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 1,
    "x": 1590,
    "y": 4760,
    "wires": [
      [
        "d4a03aecb1ab34ab"
      ]
    ]
  },
  {
    "id": "312c4df4513b4415",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Face",
    "rules": [
      {
        "t": "move",
        "p": "payload.event.command",
        "pt": "msg",
        "to": "action",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1470,
    "y": 4760,
    "wires": [
      [
        "b8f4ecdac48219a7"
      ]
    ]
  },
  {
    "id": "eb29b1e737676b49",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Bedroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":[\"light.bedroom_lights\"]}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2300,
    "y": 4740,
    "wires": [
      [
        "4fc88edc54a36fc8"
      ]
    ]
  },
  {
    "id": "2aefc1df2c48cdb7",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Delay",
    "pauseType": "delay",
    "timeout": "1",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 1330,
    "y": 3560,
    "wires": [
      [
        "5cc0a0d3cda0b25f"
      ]
    ]
  },
  {
    "id": "8dfd22529cfa94a8",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "0",
    "op1type": "nul",
    "op2type": "str",
    "duration": "800",
    "extend": true,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "outputs": 1,
    "x": 1360,
    "y": 3600,
    "wires": [
      [
        "2aefc1df2c48cdb7",
        "27c1d3402ba49810"
      ]
    ]
  },
  {
    "id": "5cc0a0d3cda0b25f",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Reset",
    "rules": [
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "foo",
        "tot": "str"
      },
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1450,
    "y": 3560,
    "wires": [
      [
        "503fbd2688bac18d"
      ]
    ]
  },
  {
    "id": "6b2917f5844873db",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Watch",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 1,
    "halt_if": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "sensor.galaxywatch",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "location",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "",
        "valueType": "triggerId"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 1190,
    "y": 3500,
    "wires": [
      [
        "8dfd22529cfa94a8",
        "503fbd2688bac18d"
      ]
    ]
  },
  {
    "id": "27c1d3402ba49810",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "count presses",
    "property": "count",
    "propertyType": "flow",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 5,
    "x": 1600,
    "y": 3600,
    "wires": [
      [
        "22d82bef9e825fe8"
      ],
      [
        "646be7329d496eba"
      ],
      [
        "b3b2b674ebbae71d"
      ],
      [
        "36a0aba78e9b37a8"
      ],
      [
        "adb66298764c6e84"
      ]
    ],
    "info": "Just expand the flow.count to how ever many\npresses you want/need."
  },
  {
    "id": "503fbd2688bac18d",
    "type": "counter",
    "z": "933f5581a37dd52c",
    "name": "",
    "init": "0",
    "step": "1",
    "lower": "",
    "upper": "",
    "mode": "increment",
    "outputs": "1",
    "x": 1460,
    "y": 3500,
    "wires": [
      [
        "f13bcaaa665e4314"
      ]
    ]
  },
  {
    "id": "69df04f525caf170",
    "type": "inject",
    "z": "933f5581a37dd52c",
    "name": "Reset",
    "repeat": "",
    "crontab": "",
    "once": true,
    "onceDelay": "0.5",
    "topic": "",
    "payload": "",
    "payloadType": "date",
    "x": 1330,
    "y": 3460,
    "wires": [
      [
        "5cc0a0d3cda0b25f"
      ]
    ]
  },
  {
    "id": "da1f598936d9e6cf",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "up",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1050,
    "y": 3420,
    "wires": [
      [
        "6b2917f5844873db"
      ]
    ]
  },
  {
    "id": "622da2e32be614fa",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "down",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1050,
    "y": 3460,
    "wires": [
      [
        "6b2917f5844873db"
      ]
    ]
  },
  {
    "id": "b57e915aa7772afc",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "off",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 950,
    "y": 3500,
    "wires": [
      [
        "6b2917f5844873db"
      ]
    ]
  },
  {
    "id": "96ef0aa933cdebc6",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "set",
        "p": "command",
        "pt": "msg",
        "to": "on",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 950,
    "y": 3540,
    "wires": [
      [
        "6b2917f5844873db"
      ]
    ]
  },
  {
    "id": "22d82bef9e825fe8",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Single Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "1",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1790,
    "y": 3540,
    "wires": [
      [
        "1ff779a565368865"
      ]
    ]
  },
  {
    "id": "646be7329d496eba",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Double Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "2",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1800,
    "y": 3580,
    "wires": [
      [
        "1ff779a565368865"
      ]
    ]
  },
  {
    "id": "b3b2b674ebbae71d",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Triple Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "3",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1790,
    "y": 3620,
    "wires": [
      [
        "1ff779a565368865"
      ]
    ]
  },
  {
    "id": "36a0aba78e9b37a8",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Four Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "4",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1790,
    "y": 3660,
    "wires": [
      [
        "1ff779a565368865"
      ]
    ]
  },
  {
    "id": "f13bcaaa665e4314",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Flow set",
    "rules": [
      {
        "t": "set",
        "p": "count",
        "pt": "flow",
        "to": "count",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1600,
    "y": 3500,
    "wires": [
      [
        "17a545a209baf4f1"
      ]
    ]
  },
  {
    "id": "3968a9f7dd594e6e",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Ste?",
    "property": "payload.event.args[0]",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "0",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "1",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 920,
    "y": 3460,
    "wires": [
      [
        "da1f598936d9e6cf"
      ],
      [
        "622da2e32be614fa"
      ]
    ]
  },
  {
    "id": "b98fe94a2627260e",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Command?",
    "property": "payload.event.command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "step",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "off_with_effect",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "on",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 3,
    "x": 770,
    "y": 3480,
    "wires": [
      [
        "3968a9f7dd594e6e"
      ],
      [
        "b57e915aa7772afc"
      ],
      [
        "96ef0aa933cdebc6"
      ]
    ]
  },
  {
    "id": "1ff779a565368865",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "",
    "pauseType": "delay",
    "timeout": "1",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 1970,
    "y": 3620,
    "wires": [
      []
    ]
  },
  {
    "id": "17a545a209baf4f1",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "count",
    "targetType": "msg",
    "x": 1790,
    "y": 3500,
    "wires": []
  },
  {
    "id": "0b53d52d13305844",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "first",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 750,
    "y": 3440,
    "wires": []
  },
  {
    "id": "d71eeae0a1466a37",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "zero",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 610,
    "y": 3440,
    "wires": []
  },
  {
    "id": "b826da6237edeb15",
    "type": "server-events",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 2,
    "eventType": "zha_event",
    "exposeToHomeAssistant": false,
    "eventData": "",
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "waitForRunning": true,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "$outputData(\"eventData\").event_type",
        "valueType": "jsonata"
      },
      {
        "property": "event_type",
        "propertyType": "msg",
        "value": "$outputData(\"eventData\").event_type",
        "valueType": "jsonata"
      }
    ],
    "x": 450,
    "y": 3480,
    "wires": [
      [
        "d71eeae0a1466a37",
        "7e36a36b6f5330b3"
      ]
    ]
  },
  {
    "id": "7e36a36b6f5330b3",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.event.device_ieee",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "00:17:88:01:08:0b:50:a4",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 1,
    "x": 620,
    "y": 3480,
    "wires": [
      [
        "b98fe94a2627260e",
        "0b53d52d13305844"
      ]
    ]
  },
  {
    "id": "adb66298764c6e84",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Five Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "5",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1800,
    "y": 3700,
    "wires": [
      [
        "1ff779a565368865"
      ]
    ]
  },
  {
    "id": "2487f0c9129a879c",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Plex",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.plex_media_player_desktop",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2470,
    "y": 320,
    "wires": [
      [
        "b9c29cf9eab7ae68"
      ],
      [
        "adcfce4ade885675"
      ]
    ]
  },
  {
    "id": "e7d4f105bb2e64f3",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.bedroom_roku",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2870,
    "y": 340,
    "wires": [
      [
        "9d3f95d97949fcad"
      ],
      [
        "83578c147b05105f"
      ]
    ]
  },
  {
    "id": "9d3f95d97949fcad",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.bedroom_roku\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2850,
    "y": 300,
    "wires": [
      [
        "151f1963fecf0607"
      ]
    ]
  },
  {
    "id": "384e8b92d0de16c5",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Stuff Playing",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3430,
    "y": 340,
    "wires": [
      [
        "ee797e7b355bf40e",
        "6f0583e9c09bf522"
      ]
    ]
  },
  {
    "id": "ee797e7b355bf40e",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "volume",
    "rules": [
      {
        "t": "move",
        "p": "data.entity.attributes.volume_level",
        "pt": "msg",
        "to": "volume",
        "tot": "msg"
      },
      {
        "t": "delete",
        "p": "data",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3580,
    "y": 340,
    "wires": [
      [
        "9eefd3eaa566fef7"
      ]
    ]
  },
  {
    "id": "b9c29cf9eab7ae68",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "PLex",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.plex_media_player_desktop\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2470,
    "y": 260,
    "wires": [
      [
        "151f1963fecf0607"
      ]
    ]
  },
  {
    "id": "b03644fb7ed5a0a7",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Volume 1/>1",
    "property": "volume",
    "propertyType": "msg",
    "rules": [
      {
        "t": "gt",
        "v": ".89",
        "vt": "num"
      },
      {
        "t": "lt",
        "v": ".9",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 4070,
    "y": 300,
    "wires": [
      [
        "0a1137bfb4f341a4"
      ],
      [
        "4a87be609378f3f5"
      ]
    ]
  },
  {
    "id": "0a1137bfb4f341a4",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Tv",
    "property": "payload.data.entity_id",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "media_player.plex_pc",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "media_player.bedroom_chromecast",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "media_player.hotbox_tv",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "media_player.living_room_tv",
        "vt": "str"
      },
      {
        "t": "nnull"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 5,
    "x": 4210,
    "y": 260,
    "wires": [
      [
        "b9143e5b1397992b"
      ],
      [
        "b9143e5b1397992b"
      ],
      [
        "f99bfdefea729d0b"
      ],
      [
        "0814d7e1e73eea88"
      ],
      [
        "4a87be609378f3f5"
      ]
    ]
  },
  {
    "id": "b9143e5b1397992b",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.bedroom_tv\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4410,
    "y": 220,
    "wires": [
      [
        "4a87be609378f3f5"
      ]
    ]
  },
  {
    "id": "f99bfdefea729d0b",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.roku\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4390,
    "y": 260,
    "wires": [
      [
        "4a87be609378f3f5"
      ]
    ]
  },
  {
    "id": "0814d7e1e73eea88",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.living_room_lg_2\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4370,
    "y": 300,
    "wires": [
      [
        "4a87be609378f3f5"
      ]
    ]
  },
  {
    "id": "1967c3a6edfac1a5",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "V. down S",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "volume_down",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 4760,
    "y": 500,
    "wires": [
      [
        "58f42177fbba5da6"
      ]
    ]
  },
  {
    "id": "d5a19c27e1b9b0ac",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Volume 0/<0",
    "property": "volume",
    "propertyType": "msg",
    "rules": [
      {
        "t": "lt",
        "v": "0.5",
        "vt": "num"
      },
      {
        "t": "gte",
        "v": "0.5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 2,
    "x": 4230,
    "y": 380,
    "wires": [
      [
        "43ded35c0dd311d0"
      ],
      [
        "1967c3a6edfac1a5"
      ]
    ]
  },
  {
    "id": "43ded35c0dd311d0",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Tv",
    "property": "payload.data.entity_id",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "media_player.plex_pc",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "media_player.bedroom_chromecast",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "media_player.hotbox_tv",
        "vt": "str"
      },
      {
        "t": "cont",
        "v": "media_player.living_room_tv",
        "vt": "str"
      },
      {
        "t": "nnull"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 5,
    "x": 4370,
    "y": 380,
    "wires": [
      [
        "321d6b96f5f4c690"
      ],
      [
        "321d6b96f5f4c690"
      ],
      [
        "7a5ca9a2eb9f048d"
      ],
      [
        "28516e3d82e738ce"
      ],
      [
        "1967c3a6edfac1a5"
      ]
    ]
  },
  {
    "id": "321d6b96f5f4c690",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku bedroom",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.bedroom_tv\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4560,
    "y": 340,
    "wires": [
      [
        "1967c3a6edfac1a5"
      ]
    ]
  },
  {
    "id": "7a5ca9a2eb9f048d",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Roku Hotbox",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.roku\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4550,
    "y": 380,
    "wires": [
      [
        "1967c3a6edfac1a5"
      ]
    ]
  },
  {
    "id": "28516e3d82e738ce",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Living room LG",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.living_room_lg\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4560,
    "y": 420,
    "wires": [
      [
        "1967c3a6edfac1a5"
      ]
    ]
  },
  {
    "id": "b2e71a0dd8285867",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Actions",
    "property": "command",
    "propertyType": "msg",
    "rules": [
      {
        "t": "cont",
        "v": "on",
        "vt": "str"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 1,
    "x": 1680,
    "y": 840,
    "wires": [
      [
        "e56fbd6fb90d7a6b"
      ]
    ]
  },
  {
    "id": "e56fbd6fb90d7a6b",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "presses",
    "property": "pressamount",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "false",
    "repair": true,
    "outputs": 1,
    "x": 1840,
    "y": 840,
    "wires": [
      [
        "6fbc6fb0d2fce8e3"
      ]
    ]
  },
  {
    "id": "6fbc6fb0d2fce8e3",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "timer",
    "service": "start",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "timer.five_click_delay"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2020,
    "y": 840,
    "wires": [
      []
    ]
  },
  {
    "id": "0bde626db96121fd",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "option2",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "active",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "timer.five_click_delay",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "data",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 1940,
    "y": 920,
    "wires": [
      [],
      []
    ]
  },
  {
    "id": "51db7308f80909d0",
    "type": "inject",
    "z": "933f5581a37dd52c",
    "name": "",
    "repeat": "",
    "crontab": "",
    "once": false,
    "onceDelay": 0.1,
    "topic": "",
    "payload": "",
    "payloadType": "date",
    "x": 1780,
    "y": 900,
    "wires": [
      [
        "0bde626db96121fd",
        "6fbc6fb0d2fce8e3"
      ]
    ]
  },
  {
    "id": "68bfea40cb637c9b",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "option2",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "idle",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "timer.five_click_delay",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2920,
    "y": 1000,
    "wires": [
      [
        "e1a754c7dbd81296"
      ],
      [
        "edd8b7f18891ec17"
      ]
    ]
  },
  {
    "id": "e1a754c7dbd81296",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3090,
    "y": 1000,
    "wires": [
      [
        "384e8b92d0de16c5"
      ]
    ]
  },
  {
    "id": "df04f2923a255b17",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "option2",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "idle",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "timer.five_click_delay",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3120,
    "y": 300,
    "wires": [
      [
        "6b1d895c5f9f10ac"
      ],
      [
        "83578c147b05105f"
      ]
    ]
  },
  {
    "id": "a1fe8fca019a4242",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "option2",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "idle",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "timer.five_click_delay",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 3140,
    "y": 440,
    "wires": [
      [
        "8c9ffa99c3a8f497"
      ],
      [
        "30bcd364e3198e99"
      ]
    ]
  },
  {
    "id": "21e7c649df1f7f5b",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "option2",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "idle",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "timer.five_click_delay",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2940,
    "y": 1100,
    "wires": [
      [
        "5343f2709a089f77"
      ],
      [
        "7bfb04403e75cd9c"
      ]
    ]
  },
  {
    "id": "e7fd9fbdfdbfe732",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "option2",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "idle",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "timer.five_click_delay",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2940,
    "y": 1200,
    "wires": [
      [
        "290472fdb98cf797"
      ],
      [
        "20ed761cdc12302b"
      ]
    ]
  },
  {
    "id": "f4d96017c0b01350",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "option2",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "idle",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "timer.five_click_delay",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2920,
    "y": 1300,
    "wires": [
      [
        "58dcd0bc6f58f65a"
      ],
      [
        "9faa0d691663ceed"
      ]
    ]
  },
  {
    "id": "290472fdb98cf797",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3090,
    "y": 1200,
    "wires": [
      [
        "384e8b92d0de16c5"
      ]
    ]
  },
  {
    "id": "58dcd0bc6f58f65a",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3070,
    "y": 1300,
    "wires": [
      [
        "384e8b92d0de16c5"
      ]
    ]
  },
  {
    "id": "5343f2709a089f77",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3090,
    "y": 1100,
    "wires": [
      [
        "384e8b92d0de16c5"
      ]
    ]
  },
  {
    "id": "8c9ffa99c3a8f497",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3270,
    "y": 440,
    "wires": [
      [
        "384e8b92d0de16c5"
      ]
    ]
  },
  {
    "id": "6b1d895c5f9f10ac",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Action",
    "pauseType": "delay",
    "timeout": "0",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 3250,
    "y": 300,
    "wires": [
      [
        "384e8b92d0de16c5"
      ]
    ]
  },
  {
    "id": "21d342f5e6f65e21",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 2050,
    "y": 780,
    "wires": []
  },
  {
    "id": "adcfce4ade885675",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Chromecast",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.bedroom_chromecast",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2690,
    "y": 340,
    "wires": [
      [
        "b1ccfc98fc48d36c"
      ],
      [
        "e7d4f105bb2e64f3"
      ]
    ]
  },
  {
    "id": "b1ccfc98fc48d36c",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Chromecast",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.bedroom_chromecast\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2710,
    "y": 300,
    "wires": [
      [
        "151f1963fecf0607"
      ]
    ]
  },
  {
    "id": "09917881fce29b61",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Screens",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "on",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "switch.plug_bedroom_screens",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2680,
    "y": 220,
    "wires": [
      [
        "60e8aefe4c72a2f8"
      ],
      [
        "0db580fe5864f3e3"
      ]
    ]
  },
  {
    "id": "0db580fe5864f3e3",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "TV Off",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "media_player.bedroom_tv"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2870,
    "y": 240,
    "wires": [
      []
    ]
  },
  {
    "id": "f236283a32820d91",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "TV On",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "media_player.bedroom_tv"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "data"
      }
    ],
    "queue": "none",
    "x": 2930,
    "y": 160,
    "wires": [
      []
    ]
  },
  {
    "id": "a38b3a45d7a24b40",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Screens",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "off",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "switch.plug_bedroom_screens",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2700,
    "y": 140,
    "wires": [
      [
        "ac394a05ef3653b0"
      ],
      [
        "f236283a32820d91"
      ]
    ]
  },
  {
    "id": "df2e609cac6f2bc9",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 360,
    "y": 640,
    "wires": []
  },
  {
    "id": "58f42177fbba5da6",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "hoy hgere",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 4420,
    "y": 600,
    "wires": []
  },
  {
    "id": "16f62f47e8cdb911",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 4280,
    "y": 460,
    "wires": []
  },
  {
    "id": "52b3fb4303059f0b",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 2220,
    "y": 180,
    "wires": []
  },
  {
    "id": "6f0583e9c09bf522",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "false",
    "statusVal": "",
    "statusType": "auto",
    "x": 3620,
    "y": 240,
    "wires": []
  },
  {
    "id": "dccde5863cfee895",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "data",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 3110,
    "y": 180,
    "wires": []
  },
  {
    "id": "d1ce8de1add5048b",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Patio",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.patio_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3930,
    "y": 1220,
    "wires": [
      [
        "3e7e886b757c00c5"
      ]
    ]
  },
  {
    "id": "93cc876515c41852",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Patio",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.patio_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 4150,
    "y": 920,
    "wires": [
      [
        "1d56e1f478c25091"
      ]
    ]
  },
  {
    "id": "11b4afcad2643e2e",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "LivingRo",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.group_livingroom_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3980,
    "y": 1140,
    "wires": [
      [
        "3e7e886b757c00c5"
      ]
    ]
  },
  {
    "id": "1482fb6bd7ca4dd1",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Kitchen",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"light.group_kitchen_lights\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3980,
    "y": 1180,
    "wires": [
      [
        "3e7e886b757c00c5"
      ]
    ]
  },
  {
    "id": "2d8d6d2796fc6b02",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 470,
    "y": 300,
    "wires": []
  },
  {
    "id": "78d65470dc05638f",
    "type": "server-state-changed",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 4,
    "exposeToHomeAssistant": false,
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "entityidfilter": "sensor.remote_maxi_dimmer_action",
    "entityidfiltertype": "exact",
    "outputinitially": false,
    "state_type": "str",
    "haltifstate": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "outputs": 1,
    "output_only_on_state_change": true,
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "ignorePrevStateNull": false,
    "ignorePrevStateUnknown": false,
    "ignorePrevStateUnavailable": false,
    "ignoreCurrentStateUnknown": false,
    "ignoreCurrentStateUnavailable": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "data",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "",
        "valueType": "triggerId"
      }
    ],
    "x": 190,
    "y": 300,
    "wires": [
      [
        "2d8d6d2796fc6b02"
      ]
    ]
  },
  {
    "id": "2cc83b9a6fe9febb",
    "type": "mqtt in",
    "z": "933f5581a37dd52c",
    "name": "",
    "topic": "zigbee2mqtt/remote_ikea_dial",
    "qos": "2",
    "datatype": "json",
    "broker": "21000c19b97da572",
    "nl": false,
    "rap": true,
    "rh": 0,
    "inputs": 0,
    "x": 120,
    "y": 960,
    "wires": [
      []
    ]
  },
  {
    "id": "32505711f87bda11",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 410,
    "y": 880,
    "wires": []
  },
  {
    "id": "776a8ebef16f1aac",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1250,
    "y": 980,
    "wires": [
      [
        "9937b3ec1d262f11"
      ]
    ]
  },
  {
    "id": "eb5d617dc72fac44",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "move",
        "p": "payload.brightness",
        "pt": "msg",
        "to": "payload.data.brightness",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 700,
    "y": 960,
    "wires": [
      [
        "d06aef76217953ea",
        "6ac35973d7c049ea"
      ]
    ]
  },
  {
    "id": "6ac35973d7c049ea",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "1",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 859,
    "y": 891,
    "wires": []
  },
  {
    "id": "9937b3ec1d262f11",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "2",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 1610,
    "y": 1000,
    "wires": []
  },
  {
    "id": "401ca565b25fb13d",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "0",
    "op1type": "nul",
    "op2type": "str",
    "duration": "800",
    "extend": true,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "outputs": 1,
    "x": 1300,
    "y": 640,
    "wires": [
      [
        "7eda3eb589b2ea8e",
        "e251c8e0979fa2ac"
      ]
    ]
  },
  {
    "id": "94719e344c54c7a4",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.action",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "toggle",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "toggle",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 520,
    "y": 960,
    "wires": [
      [
        "eb5d617dc72fac44"
      ],
      [
        "f91d0b008ef484ab"
      ]
    ]
  },
  {
    "id": "084b6cf2b359fa1f",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "{\"brightness_pct\":\"100\"}",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1090,
    "y": 1040,
    "wires": [
      []
    ]
  },
  {
    "id": "72f1bd2daa8cf337",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1390,
    "y": 920,
    "wires": [
      []
    ]
  },
  {
    "id": "d06aef76217953ea",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.data.brightness",
    "propertyType": "msg",
    "rules": [
      {
        "t": "lt",
        "v": "5",
        "vt": "num"
      },
      {
        "t": "gte",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 900,
    "y": 960,
    "wires": [
      [
        "08ba7ba6adf1f56a"
      ],
      [
        "776a8ebef16f1aac"
      ]
    ]
  },
  {
    "id": "08ba7ba6adf1f56a",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "delete",
        "p": "payload.data",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1060,
    "y": 920,
    "wires": [
      [
        "bf520346f7897afc"
      ]
    ]
  },
  {
    "id": "22697bf95c76c11d",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "150",
    "extend": false,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 360,
    "y": 960,
    "wires": [
      [
        "94719e344c54c7a4"
      ]
    ]
  },
  {
    "id": "f91d0b008ef484ab",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 540,
    "y": 1000,
    "wires": [
      [
        "601c267cee92a767"
      ]
    ]
  },
  {
    "id": "bf520346f7897afc",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1220,
    "y": 920,
    "wires": [
      [
        "72f1bd2daa8cf337"
      ]
    ]
  },
  {
    "id": "601c267cee92a767",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "off",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "light.bedroom_lights",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "override_topic": false,
    "state_location": "payload",
    "override_payload": "msg",
    "entity_location": "data",
    "override_data": "msg",
    "x": 700,
    "y": 1060,
    "wires": [
      [
        "084b6cf2b359fa1f"
      ],
      [
        "15951f24d6c2f9aa"
      ]
    ]
  },
  {
    "id": "15951f24d6c2f9aa",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1090,
    "y": 1140,
    "wires": [
      []
    ]
  },
  {
    "id": "410609d9902f1294",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 730,
    "y": 800,
    "wires": []
  },
  {
    "id": "80581914c059e70b",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.action",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "brightness_move_up",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "play_pause",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 389,
    "y": 824,
    "wires": [
      [
        "410609d9902f1294"
      ],
      []
    ]
  },
  {
    "id": "a2582ee0170c26ce",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "Home Group",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.group_home_speakers",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 1690,
    "y": 340,
    "wires": [
      [
        "7470b08118e4aea7"
      ],
      [
        "f2eeb853583688c7"
      ]
    ]
  },
  {
    "id": "7470b08118e4aea7",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "maxi speakers",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.group_maxi_speakers\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1700,
    "y": 300,
    "wires": [
      [
        "151f1963fecf0607"
      ]
    ]
  },
  {
    "id": "e995b61ee5af4baa",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "LVSpeakers",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "(playing|paused)",
    "halt_if_type": "re",
    "halt_if_compare": "is",
    "entity_id": "media_player.group_living_room_speakers",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [
      {
        "property": "data.entity",
        "propertyType": "msg",
        "value": "",
        "valueType": "entity"
      }
    ],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "x": 2050,
    "y": 1040,
    "wires": [
      [
        "70341d6483dd7f3c"
      ],
      [
        "8dedf648b9898060"
      ]
    ]
  },
  {
    "id": "70341d6483dd7f3c",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set entity",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "{\"data\":{\"entity_id\":\"media_player.group_living_room_speakers\"}}",
        "tot": "json"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2060,
    "y": 1000,
    "wires": [
      [
        "914fc6977ecda928"
      ]
    ]
  },
  {
    "id": "7a2bddfeffbf719d",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1630,
    "y": 1240,
    "wires": [
      []
    ]
  },
  {
    "id": "0d4ce40e39cf5c72",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1460,
    "y": 1240,
    "wires": [
      [
        "7a2bddfeffbf719d"
      ]
    ]
  },
  {
    "id": "f2f9311781176673",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "command",
    "rules": [
      {
        "t": "delete",
        "p": "payload.data",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1300,
    "y": 1240,
    "wires": [
      [
        "0d4ce40e39cf5c72"
      ]
    ]
  },
  {
    "id": "2f0210cdb84f9d63",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.data.brightness",
    "propertyType": "msg",
    "rules": [
      {
        "t": "lt",
        "v": "5",
        "vt": "num"
      },
      {
        "t": "gte",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 1160,
    "y": 1280,
    "wires": [
      [
        "f2f9311781176673"
      ],
      [
        "18d6990371b0aae8"
      ]
    ]
  },
  {
    "id": "18d6990371b0aae8",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1490,
    "y": 1300,
    "wires": [
      [
        "1ec24ed38a64b403"
      ]
    ]
  },
  {
    "id": "48d6ca2327e1e096",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.action",
    "propertyType": "msg",
    "rules": [
      {
        "t": "neq",
        "v": "toggle",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "toggle",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 540,
    "y": 1440,
    "wires": [
      [
        "51cca52bb24630df"
      ],
      [
        "97f15f208e99080a"
      ]
    ]
  },
  {
    "id": "abe7e185c2c01538",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "1",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 930,
    "y": 1300,
    "wires": []
  },
  {
    "id": "1ec24ed38a64b403",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "2",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "statusVal": "",
    "statusType": "auto",
    "x": 1850,
    "y": 1320,
    "wires": []
  },
  {
    "id": "e5b567c17d3cb0a2",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 390,
    "y": 1440,
    "wires": [
      [
        "48d6ca2327e1e096"
      ]
    ]
  },
  {
    "id": "97f15f208e99080a",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "s",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 620,
    "y": 1480,
    "wires": [
      [
        "32d8543abfecb3fe"
      ]
    ]
  },
  {
    "id": "e3852397348a4c3b",
    "type": "mqtt in",
    "z": "933f5581a37dd52c",
    "name": "",
    "topic": "zigbee2mqtt/remote_ikea_dial",
    "qos": "2",
    "datatype": "json",
    "broker": "21000c19b97da572",
    "nl": false,
    "rap": true,
    "rh": 0,
    "inputs": 0,
    "x": 120,
    "y": 1440,
    "wires": [
      [
        "943beb7c250b8384"
      ]
    ]
  },
  {
    "id": "32d8543abfecb3fe",
    "type": "api-current-state",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 3,
    "outputs": 2,
    "halt_if": "off",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "entity_id": "light.bedroom_lights",
    "state_type": "str",
    "blockInputOverrides": false,
    "outputProperties": [],
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "override_topic": false,
    "state_location": "payload",
    "override_payload": "msg",
    "entity_location": "data",
    "override_data": "msg",
    "x": 780,
    "y": 1540,
    "wires": [
      [
        "32fb2a3700a3ad59"
      ],
      [
        "35027b882431c5ca"
      ]
    ]
  },
  {
    "id": "1e99da6c8d1b5a84",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Device?",
    "property": "payload.action",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "brightness_move_up",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "play_pause",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 389,
    "y": 1304,
    "wires": [
      [
        "df538d97941e5ebd"
      ],
      []
    ]
  },
  {
    "id": "943beb7c250b8384",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 410,
    "y": 1340,
    "wires": []
  },
  {
    "id": "32fb2a3700a3ad59",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "{\"brightness_pct\":\"100\"}",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1170,
    "y": 1520,
    "wires": [
      []
    ]
  },
  {
    "id": "35027b882431c5ca",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1170,
    "y": 1620,
    "wires": [
      []
    ]
  },
  {
    "id": "df538d97941e5ebd",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 730,
    "y": 1280,
    "wires": []
  },
  {
    "id": "ecabddfeb52b6782",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Command",
    "property": "payload.action",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "brightness_move_up",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "brightness_move_down",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 2,
    "x": 870,
    "y": 1420,
    "wires": [
      [
        "e73a733b54de4469"
      ],
      [
        "59c8bb49365781b6"
      ]
    ]
  },
  {
    "id": "e73a733b54de4469",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lamp2_light"
    ],
    "data": "{\"brightness_step_pct\":\"10\"}",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1050,
    "y": 1400,
    "wires": [
      []
    ]
  },
  {
    "id": "59c8bb49365781b6",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lamp2_light"
    ],
    "data": "{\"brightness_step_pct\":\"-10\"}",
    "dataType": "jsonata",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1050,
    "y": 1460,
    "wires": [
      []
    ]
  },
  {
    "id": "51cca52bb24630df",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "pay",
    "op2type": "nul",
    "duration": "500",
    "extend": false,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 700,
    "y": 1360,
    "wires": [
      [
        "ecabddfeb52b6782"
      ]
    ]
  },
  {
    "id": "20deda8f8b480aab",
    "type": "server-state-changed",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 4,
    "exposeToHomeAssistant": false,
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "entityidfilter": "sensor.remote_phillips_tap_action",
    "entityidfiltertype": "exact",
    "outputinitially": false,
    "state_type": "str",
    "haltifstate": "",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "outputs": 1,
    "output_only_on_state_change": true,
    "for": 0,
    "forType": "num",
    "forUnits": "minutes",
    "ignorePrevStateNull": false,
    "ignorePrevStateUnknown": false,
    "ignorePrevStateUnavailable": false,
    "ignoreCurrentStateUnknown": false,
    "ignoreCurrentStateUnavailable": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "data",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "",
        "valueType": "triggerId"
      }
    ],
    "x": 190,
    "y": 2000,
    "wires": [
      [
        "66e3f47ae7d12679",
        "d5efbe75e4696a7e"
      ]
    ]
  },
  {
    "id": "66e3f47ae7d12679",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "true",
    "targetType": "full",
    "x": 470,
    "y": 1940,
    "wires": []
  },
  {
    "id": "d5efbe75e4696a7e",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "Command",
    "property": "payload",
    "propertyType": "msg",
    "rules": [
      {
        "t": "eq",
        "v": "press_1",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "press_2",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "press_3",
        "vt": "str"
      },
      {
        "t": "eq",
        "v": "press_4",
        "vt": "str"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 4,
    "x": 510,
    "y": 2000,
    "wires": [
      [
        "c27b67d192564802"
      ],
      [
        "d3ce1563bea9ac19"
      ],
      [
        "bfe946629f5a60e0"
      ],
      [
        "7c8ea243bfaae384"
      ]
    ]
  },
  {
    "id": "c27b67d192564802",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Lights on",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "toggle",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 860,
    "y": 1900,
    "wires": [
      []
    ]
  },
  {
    "id": "7c8ea243bfaae384",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Brigthen lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "{\"brightness_step\":25}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 700,
    "y": 2240,
    "wires": [
      []
    ]
  },
  {
    "id": "d3ce1563bea9ac19",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Dim lights",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "{\"brightness_step\":-35}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 740,
    "y": 2000,
    "wires": [
      []
    ]
  },
  {
    "id": "fea5ddbb4ca0032b",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Lightson ",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_on",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "{\"brightness\":\"255\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1960,
    "y": 2120,
    "wires": [
      []
    ]
  },
  {
    "id": "0345066f71f33d3c",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "Delay",
    "pauseType": "delay",
    "timeout": "1",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 950,
    "y": 2140,
    "wires": [
      [
        "fcfbb9c93021b76f"
      ]
    ]
  },
  {
    "id": "fcfbb9c93021b76f",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Reset",
    "rules": [
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "foo",
        "tot": "str"
      },
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1130,
    "y": 2140,
    "wires": [
      [
        "51f21057e0bd4fe6"
      ]
    ]
  },
  {
    "id": "aebf1618b9fd68b9",
    "type": "switch",
    "z": "933f5581a37dd52c",
    "name": "count presses",
    "property": "count",
    "propertyType": "flow",
    "rules": [
      {
        "t": "eq",
        "v": "1",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "2",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "3",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "4",
        "vt": "num"
      },
      {
        "t": "eq",
        "v": "5",
        "vt": "num"
      }
    ],
    "checkall": "true",
    "repair": false,
    "outputs": 5,
    "x": 1310,
    "y": 2180,
    "wires": [
      [
        "f4250fd878904db2"
      ],
      [
        "e1c92a245a8e616e"
      ],
      [
        "8b0c601185dff764"
      ],
      [
        "f91c8dc3cb72e916"
      ],
      [
        "b6ae8aea6851c5d6"
      ]
    ],
    "info": "Just expand the flow.count to how ever many\npresses you want/need."
  },
  {
    "id": "51f21057e0bd4fe6",
    "type": "counter",
    "z": "933f5581a37dd52c",
    "name": "",
    "init": "0",
    "step": "1",
    "lower": "",
    "upper": "",
    "mode": "increment",
    "outputs": "1",
    "x": 1130,
    "y": 2080,
    "wires": [
      [
        "a1bb33762f63e248"
      ]
    ]
  },
  {
    "id": "e18c0877e733d58b",
    "type": "inject",
    "z": "933f5581a37dd52c",
    "name": "Reset",
    "repeat": "",
    "crontab": "",
    "once": true,
    "onceDelay": "0.5",
    "topic": "",
    "payload": "",
    "payloadType": "date",
    "x": 950,
    "y": 2100,
    "wires": [
      [
        "fcfbb9c93021b76f"
      ]
    ]
  },
  {
    "id": "f4250fd878904db2",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Single Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "1",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1520,
    "y": 2120,
    "wires": [
      [
        "910922d2499bde3a"
      ]
    ]
  },
  {
    "id": "e1c92a245a8e616e",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Double Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "2",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1530,
    "y": 2160,
    "wires": [
      []
    ]
  },
  {
    "id": "8b0c601185dff764",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Triple Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "3",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1520,
    "y": 2200,
    "wires": [
      [
        "1552707e460c5a04"
      ]
    ]
  },
  {
    "id": "f91c8dc3cb72e916",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Four Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "4",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1520,
    "y": 2240,
    "wires": [
      [
        "1552707e460c5a04"
      ]
    ]
  },
  {
    "id": "a1bb33762f63e248",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Flow set",
    "rules": [
      {
        "t": "set",
        "p": "count",
        "pt": "flow",
        "to": "count",
        "tot": "msg"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1290,
    "y": 2080,
    "wires": [
      [
        "e962304395f19186"
      ]
    ]
  },
  {
    "id": "910922d2499bde3a",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "",
    "pauseType": "delay",
    "timeout": "1",
    "timeoutUnits": "milliseconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "outputs": 1,
    "x": 1750,
    "y": 2120,
    "wires": [
      [
        "fea5ddbb4ca0032b"
      ]
    ]
  },
  {
    "id": "e962304395f19186",
    "type": "debug",
    "z": "933f5581a37dd52c",
    "name": "",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "count",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1520,
    "y": 2080,
    "wires": []
  },
  {
    "id": "b6ae8aea6851c5d6",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "Five Press",
    "rules": [
      {
        "t": "set",
        "p": "pressamount",
        "pt": "msg",
        "to": "5",
        "tot": "num"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1530,
    "y": 2280,
    "wires": [
      [
        "1552707e460c5a04"
      ]
    ]
  },
  {
    "id": "6cd22433ae5c4410",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "0",
    "op1type": "nul",
    "op2type": "str",
    "duration": "999",
    "extend": true,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 980,
    "y": 2180,
    "wires": [
      [
        "0345066f71f33d3c",
        "aebf1618b9fd68b9"
      ]
    ]
  },
  {
    "id": "bfe946629f5a60e0",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "0",
    "op1type": "nul",
    "op2type": "str",
    "duration": "1",
    "extend": true,
    "overrideDelay": false,
    "units": "ms",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 730,
    "y": 2080,
    "wires": [
      [
        "51f21057e0bd4fe6",
        "6cd22433ae5c4410"
      ]
    ]
  },
  {
    "id": "c00d23ed8e7c4765",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Lightson ",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "light",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "light.bedroom_lights"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2120,
    "y": 2200,
    "wires": [
      [
        "59f876eeba0c3824",
        "617264b0da7792b3"
      ]
    ]
  },
  {
    "id": "1552707e460c5a04",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "Screens off",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "switch",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "switch.plug_bedroom_screens"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1790,
    "y": 2200,
    "wires": [
      [
        "3c17dce00dad3336"
      ]
    ]
  },
  {
    "id": "56dbb4172e68e11f",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "tv off",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "media_player.bedroom_roku"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 2450,
    "y": 2200,
    "wires": [
      []
    ]
  },
  {
    "id": "bc77330857b23826",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "play_media",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 3250,
    "y": 2140,
    "wires": [
      [
        "82f3037dbdf4c18f"
      ]
    ]
  },
  {
    "id": "2e60ba2d2281d6db",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "",
    "rules": [
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "payload.data.entity_id",
        "pt": "msg",
        "to": "media_player.dungeon_speaker",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload.data.media_content_id",
        "pt": "msg",
        "to": "url",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload.data.media_content_type",
        "pt": "msg",
        "to": "music",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3000,
    "y": 2140,
    "wires": [
      [
        "bc77330857b23826"
      ]
    ]
  },
  {
    "id": "e6df7833b65ceed2",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "volume to 100%",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "volume_set",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "media_player.dungeon_speaker"
    ],
    "data": "{\"volume_level\":\"0.5\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 3760,
    "y": 2140,
    "wires": [
      []
    ]
  },
  {
    "id": "82f3037dbdf4c18f",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "",
    "rules": [
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "1",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3540,
    "y": 2140,
    "wires": [
      [
        "e6df7833b65ceed2"
      ]
    ]
  },
  {
    "id": "c716ac613f65753d",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "play_media",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 3250,
    "y": 2220,
    "wires": [
      [
        "6d965b3a11b2a290"
      ]
    ]
  },
  {
    "id": "6b5651fa187822fd",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "",
    "rules": [
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "payload.data.entity_id",
        "pt": "msg",
        "to": "media_player.bedroom_ceiling_speaker",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload.data.media_content_id",
        "pt": "msg",
        "to": "url",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload.data.media_content_type",
        "pt": "msg",
        "to": "music",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2980,
    "y": 2200,
    "wires": [
      [
        "c716ac613f65753d"
      ]
    ]
  },
  {
    "id": "3a25d94217d2201a",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "volume to 100%",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "volume_set",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "media_player.bedroom_ceiling_speaker"
    ],
    "data": "{\"volume_level\":\"0.4\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 3760,
    "y": 2180,
    "wires": [
      []
    ]
  },
  {
    "id": "6d965b3a11b2a290",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "",
    "rules": [
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "1",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3540,
    "y": 2180,
    "wires": [
      [
        "3a25d94217d2201a"
      ]
    ]
  },
  {
    "id": "ba42cf8822718c61",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "play_media",
    "areaId": [],
    "deviceId": [],
    "entityId": [],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 3230,
    "y": 2080,
    "wires": [
      [
        "fd2911d7142ac815"
      ]
    ]
  },
  {
    "id": "566175fcf2828da5",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "",
    "rules": [
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "payload.data.entity_id",
        "pt": "msg",
        "to": "media_player.bedroom_speaker",
        "tot": "str"
      },
      {
        "t": "set",
        "p": "payload.data.media_content_id",
        "pt": "msg",
        "to": "url",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "payload.data.media_content_type",
        "pt": "msg",
        "to": "music",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3000,
    "y": 2100,
    "wires": [
      [
        "ba42cf8822718c61"
      ]
    ]
  },
  {
    "id": "dbb80d8bab24f4aa",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "volume to 100%",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "volume_set",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "media_player.bedroom_speaker"
    ],
    "data": "{\"volume_level\":\"0.4\"}",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 3760,
    "y": 2100,
    "wires": [
      []
    ]
  },
  {
    "id": "fd2911d7142ac815",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "",
    "rules": [
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "1",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 3540,
    "y": 2100,
    "wires": [
      [
        "dbb80d8bab24f4aa"
      ]
    ]
  },
  {
    "id": "fd2aa1f7d864b5f3",
    "type": "trigger",
    "z": "933f5581a37dd52c",
    "name": "",
    "op1": "",
    "op2": "",
    "op1type": "str",
    "op2type": "nul",
    "duration": "1",
    "extend": false,
    "overrideDelay": false,
    "units": "min",
    "reset": "open",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 2370,
    "y": 2140,
    "wires": [
      [
        "566175fcf2828da5",
        "2e60ba2d2281d6db",
        "6b5651fa187822fd"
      ]
    ]
  },
  {
    "id": "3c17dce00dad3336",
    "type": "api-call-service",
    "z": "933f5581a37dd52c",
    "name": "tv off",
    "server": "7ab5c227.a3ce8c",
    "version": 5,
    "debugenabled": false,
    "domain": "media_player",
    "service": "turn_off",
    "areaId": [],
    "deviceId": [],
    "entityId": [
      "media_player.bedroom_tv"
    ],
    "data": "",
    "dataType": "json",
    "mergeContext": "",
    "mustacheAltTags": false,
    "outputProperties": [],
    "queue": "none",
    "x": 1950,
    "y": 2200,
    "wires": [
      [
        "c00d23ed8e7c4765"
      ]
    ]
  },
  {
    "id": "59f876eeba0c3824",
    "type": "delay",
    "z": "933f5581a37dd52c",
    "name": "",
    "pauseType": "delay",
    "timeout": "10",
    "timeoutUnits": "seconds",
    "rate": "1",
    "nbRateUnits": "1",
    "rateUnits": "second",
    "randomFirst": "1",
    "randomLast": "5",
    "randomUnits": "seconds",
    "drop": false,
    "allowrate": false,
    "outputs": 1,
    "x": 2280,
    "y": 2200,
    "wires": [
      [
        "56dbb4172e68e11f"
      ]
    ]
  },
  {
    "id": "617264b0da7792b3",
    "type": "change",
    "z": "933f5581a37dd52c",
    "name": "set url",
    "rules": [
      {
        "t": "set",
        "p": "url",
        "pt": "msg",
        "to": "http://192.168.0.15:8123/local/thunderstorm.mp4",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 2250,
    "y": 2160,
    "wires": [
      [
        "fd2aa1f7d864b5f3"
      ]
    ]
  }
]