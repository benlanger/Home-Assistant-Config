[
  {
    "id": "5906a7fb2733fdfc",
    "type": "tab",
    "label": "Vacuum",
    "disabled": false,
    "info": ""
  },
  {
    "id": "44ba3b44224c44ec",
    "type": "junction",
    "z": "5906a7fb2733fdfc",
    "x": 520,
    "y": 420,
    "wires": [
      [
        "45bc44fe94968ec0"
      ]
    ]
  },
  {
    "id": "45bc44fe94968ec0",
    "type": "junction",
    "z": "5906a7fb2733fdfc",
    "x": 640,
    "y": 420,
    "wires": [
      [
        "759b76f802152b90"
      ]
    ]
  },
  {
    "id": "79d77c2dfbee2cd2",
    "type": "junction",
    "z": "5906a7fb2733fdfc",
    "x": 520,
    "y": 500,
    "wires": [
      [
        "b652acd7f073d43a"
      ]
    ]
  },
  {
    "id": "8c6d94ade940476f",
    "type": "server-state-changed",
    "z": "5906a7fb2733fdfc",
    "name": "",
    "server": "7ab5c227.a3ce8c",
    "version": 4,
    "exposeToHomeAssistant": false,
    "haConfig": [
      {
        "property": "name",
        "value": ""
      },
      {
        "property": "icon",
        "value": ""
      }
    ],
    "entityidfilter": "vacuum.xiaomi_vacuum_cleaner",
    "entityidfiltertype": "exact",
    "outputinitially": false,
    "state_type": "str",
    "haltifstate": "error",
    "halt_if_type": "str",
    "halt_if_compare": "is",
    "outputs": 2,
    "output_only_on_state_change": true,
    "for": "0",
    "forType": "num",
    "forUnits": "minutes",
    "ignorePrevStateNull": false,
    "ignorePrevStateUnknown": false,
    "ignorePrevStateUnavailable": false,
    "ignoreCurrentStateUnknown": false,
    "ignoreCurrentStateUnavailable": false,
    "outputProperties": [
      {
        "property": "payload",
        "propertyType": "msg",
        "value": "",
        "valueType": "entityState"
      },
      {
        "property": "data",
        "propertyType": "msg",
        "value": "",
        "valueType": "eventData"
      },
      {
        "property": "topic",
        "propertyType": "msg",
        "value": "",
        "valueType": "triggerId"
      }
    ],
    "x": 300,
    "y": 460,
    "wires": [
      [
        "44ba3b44224c44ec"
      ],
      [
        "79d77c2dfbee2cd2"
      ]
    ]
  },
  {
    "id": "c9176913f671b44c",
    "type": "change",
    "z": "5906a7fb2733fdfc",
    "name": "Set Announcement Message",
    "rules": [
      {
        "t": "delete",
        "p": "payload",
        "pt": "msg"
      },
      {
        "t": "set",
        "p": "message",
        "pt": "msg",
        "to": "Vacuum Stuck",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 1360,
    "y": 420,
    "wires": [
      [
        "dffe6a27dc2304f8"
      ]
    ]
  },
  {
    "id": "b652acd7f073d43a",
    "type": "change",
    "z": "5906a7fb2733fdfc",
    "name": "Set Reset payload to 1",
    "rules": [
      {
        "t": "set",
        "p": "reset",
        "pt": "msg",
        "to": "1",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 800,
    "y": 500,
    "wires": [
      [
        "759b76f802152b90"
      ]
    ]
  },
  {
    "id": "759b76f802152b90",
    "type": "trigger",
    "z": "5906a7fb2733fdfc",
    "name": "Repeat every 10 minutes",
    "op1": "1",
    "op2": "0",
    "op1type": "str",
    "op2type": "str",
    "duration": "-10",
    "extend": false,
    "overrideDelay": false,
    "units": "min",
    "reset": "",
    "bytopic": "all",
    "topic": "topic",
    "outputs": 1,
    "x": 1070,
    "y": 420,
    "wires": [
      [
        "c9176913f671b44c"
      ]
    ]
  },
  {
    "id": "20b02da455a864e4",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "####ALERT US UNTIL STEUCK VACUUM IS FIXED####",
    "info": "",
    "x": 330,
    "y": 380,
    "wires": []
  },
  {
    "id": "08e8514764dc823d",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "Monitor the vacuum state",
    "info": "",
    "x": 230,
    "y": 420,
    "wires": []
  },
  {
    "id": "5695e5b9b12cf123",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "State = Error",
    "info": "",
    "x": 610,
    "y": 420,
    "wires": []
  },
  {
    "id": "6c5329787354d691",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "State != Error",
    "info": "",
    "x": 610,
    "y": 500,
    "wires": []
  },
  {
    "id": "dffe6a27dc2304f8",
    "type": "subflow:233ac7dcd801a802",
    "z": "5906a7fb2733fdfc",
    "name": "",
    "x": 1610,
    "y": 420,
    "wires": []
  },
  {
    "id": "9d4f0f1b4bf80fcc",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "Set Reset payload to reset node",
    "info": "",
    "x": 790,
    "y": 460,
    "wires": []
  },
  {
    "id": "abda12eaa520a373",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "Annoy me every 10 minutes",
    "info": "",
    "x": 1080,
    "y": 380,
    "wires": []
  },
  {
    "id": "35de4226eb828823",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "Set Announcement data",
    "info": "",
    "x": 1360,
    "y": 380,
    "wires": []
  },
  {
    "id": "59856a904239fc0a",
    "type": "comment",
    "z": "5906a7fb2733fdfc",
    "name": "Send Announcement",
    "info": "",
    "x": 1610,
    "y": 380,
    "wires": []
  }
]